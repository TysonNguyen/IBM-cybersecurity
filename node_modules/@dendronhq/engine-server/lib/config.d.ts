import { CleanDendronPublishingConfig, CleanDendronSiteConfig, DataWithOptError, DeepPartial, DendronPublishingConfig, DendronSiteConfig, IntermediateDendronConfig, RespV3, StrictConfigV5 } from "@dendronhq/common-all";
export declare enum LocalConfigScope {
    WORKSPACE = "WORKSPACE",
    GLOBAL = "GLOBAL"
}
export declare class DConfig {
    static createSync({ wsRoot, defaults, }: {
        wsRoot: string;
        defaults?: DeepPartial<StrictConfigV5>;
    }): StrictConfigV5;
    static configPath(configRoot: string): string;
    static configOverridePath(wsRoot: string, scope: LocalConfigScope): string;
    /**
     * Get without filling in defaults
     * @param wsRoot
     */
    static getRaw(wsRoot: string, overwriteDuplcate?: boolean): Partial<IntermediateDendronConfig>;
    static getOrCreate(dendronRoot: string, defaults?: DeepPartial<StrictConfigV5>): IntermediateDendronConfig;
    static getSiteIndex(sconfig: DendronSiteConfig | DendronPublishingConfig): string;
    /**
     * fill in defaults
     */
    static cleanSiteConfig(config: DendronSiteConfig): CleanDendronSiteConfig;
    static cleanPublishingConfig(config: DendronPublishingConfig): CleanDendronPublishingConfig;
    static setCleanPublishingConfig(opts: {
        config: IntermediateDendronConfig;
        cleanConfig: DendronSiteConfig | DendronPublishingConfig;
    }): void;
    /**
     * See if a local config file is present
     */
    static searchLocalConfigSync(wsRoot: string): RespV3<IntermediateDendronConfig>;
    /**
     * Read configuration
     * @param wsRoot
     * @returns
     */
    static readConfigSync(wsRoot: string): IntermediateDendronConfig;
    /**
     * Read config and merge with local config
     * @param wsRoot
     * @returns
     */
    static readConfigAndApplyLocalOverrideSync(wsRoot: string): DataWithOptError<IntermediateDendronConfig>;
    static writeConfig({ wsRoot, config, }: {
        wsRoot: string;
        config: IntermediateDendronConfig;
    }): Promise<void>;
    static writeLocalConfig({ wsRoot, config, configScope, }: {
        wsRoot: string;
        config: DeepPartial<IntermediateDendronConfig>;
        configScope: LocalConfigScope;
    }): Promise<void>;
    /**
     * Sanity check local config properties
     */
    static validateLocalConfig({ config, }: {
        config: DeepPartial<IntermediateDendronConfig>;
    }): RespV3<boolean>;
    /**
     * Create a backup of dendron.yml with an optional custom infix string.
     * e.g.) createBackup(wsRoot, "foo") will result in a backup file name
     * `dendron.yyyy.MM.dd.HHmmssS.foo.yml`
     * @param wsRoot workspace root
     * @param infix custom string used in the backup name
     * ^fd66z8uiuczz
     */
    static createBackup(wsRoot: string, infix?: string): Promise<string>;
}
